{"version":3,"sources":["components/Alert/SlotsAvailableAlert.jsx","components/Button/Button.jsx","components/Booking/AutomaticSlotBooking.jsx","App.js","index.js"],"names":["renderList","center","className","moment","format","date","vaccine","available_capacity","name","pincode","session_id","SlotsAvailableAlert","loading","slotsList18","slotsList45","availableSlots18","availableSlots45","length","map","Button","varient","children","label","rest","class","AutomaticSlotBooking","useState","benificiaryList","setBenificiaryList","isScheduling","setIsScheduling","setAppointmentId","authToken","setAuthToken","authAlert","setauthAlert","useEffect","sessionExpiryalert","setInterval","getBeneficiary","setTimeout","voice","TextToSpeechStream","getVoiceByName","pitch","rate","write","sessionExpiryVoice","clearTimeout","isSending","forEach","item","schedule","beneficiaryList","fetch","headers","authorization","then","res","json","beneficiaries","beneficiary","appointments","push","beneficiary_reference_id","catch","error","console","log","centerData","method","Authorization","body","JSON","stringify","center_id","slot","dose","appointment_id","finally","type","onChange","e","token","target","value","replace","App","setLoading","setSlotsList18","setAvailableSlots18","setSlotsList45","setavailableSlots45","volumeMute18","setVolumeMute18","volumeMute45","setVolumeMute45","getData","today","baseUrl","list18","availableList18","list45","availableList45","centers","sessions","centerRest","session","min_age_limit","data","vaccineAvailableVoice","fetchInterval","age","to","onClick","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a78ebebb.chunk.js","sourcesContent":["/**\n * @author Praveen Reddy\n * @email pr250210@ncr.com\n * @create date 2021-05-04 18:32:55\n * @modify date 2021-05-04 18:32:55\n * @desc [description]\n */\nimport React from 'react';\nimport moment from 'moment';\n\nconst renderList = (center) => {\n    return (\n        <div className=\"row border-line\">\n            <div className=\"updated-time\">{moment().format('HH:MM:SS')}</div>\n\n            <div className=\"column\">\n                <div className=\"row\">\n                    <div>{center.date}</div>\n                    <div>{center.vaccine}</div>\n                    <div\n                        className={\n                            center.available_capacity > 0 ? 'green' : 'red'\n                        }\n                    >\n                        {center.available_capacity}\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div>{center.name}</div>\n                    <div>{center.pincode}</div>\n                    <div>{center.session_id}</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nfunction SlotsAvailableAlert({\n    loading,\n    slotsList18,\n    slotsList45,\n    availableSlots18,\n    availableSlots45,\n}) {\n    return (\n        <div>\n            <div className=\"App-header\">\n                <div className=\"available-container\">\n                    <h2 className=\"title\">Slots Available (18+)</h2>\n                    {availableSlots18.length === 0 ? (\n                        <div className=\"loader\">No slots available</div>\n                    ) : (\n                        <div>{availableSlots18.map(renderList)}</div>\n                    )}\n                </div>\n                <div className=\"all-centers-container\">\n                    <h2 className=\"title\">Centers (18+)</h2>\n                    {loading ? (\n                        <div className=\"loader\">Fetching data...</div>\n                    ) : (\n                        <div>{slotsList18.map(renderList)}</div>\n                    )}\n                </div>\n            </div>\n            <div className=\"App-header\">\n                <div className=\"available-container\">\n                    <h2 className=\"title\">Slots Available (45+)</h2>\n                    {availableSlots45.length === 0 ? (\n                        <div className=\"loader\">No slots available</div>\n                    ) : (\n                        <div>{availableSlots45.map(renderList)}</div>\n                    )}\n                </div>\n                <div className=\"all-centers-container\">\n                    <h2 className=\"title\">Centers (45+)</h2>\n                    {loading ? (\n                        <div className=\"loader\">Fetching data...</div>\n                    ) : (\n                        <div>{slotsList45.map(renderList)}</div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default SlotsAvailableAlert;\n","/**\n * @author Praveen Reddy\n * @email pr250210@ncr.com\n * @create date 2021-05-04 14:44:02\n * @modify date 2021-05-04 14:44:02\n * @desc [description]\n */\nimport React from 'react';\n\nimport './Button.css';\n\nfunction Button({\n    className = '',\n    varient = 'regular',\n    children,\n    label,\n    ...rest\n}) {\n    return (\n        <button class={`button -${varient} center ${className}`} {...rest}>\n            {children || label}\n        </button>\n    );\n}\n\nexport default Button;\n","/**\n * @author Praveen Reddy\n * @email pr250210@ncr.com\n * @create date 2021-05-04 18:32:01\n * @modify date 2021-05-04 18:32:01\n * @desc [description]\n */\nimport React, { useEffect, useState } from 'react';\nimport moment from 'moment';\nimport TextToSpeechStream from 'text-to-speech-stream';\nimport Button from '../Button/Button';\n\nconst renderList = (center) => {\n    return (\n        <div className=\"row border-line\">\n            <div className=\"updated-time\">{moment().format('HH:MM:SS')}</div>\n\n            <div className=\"column\">\n                <div className=\"row\">\n                    <div>{center.date}</div>\n                    <div>{center.vaccine}</div>\n                    <div\n                        className={\n                            center.available_capacity > 0 ? 'green' : 'red'\n                        }\n                    >\n                        {center.available_capacity}\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div>{center.name}</div>\n                    <div>{center.pincode}</div>\n                    <div>{center.session_id}</div>\n                </div>\n            </div>\n        </div>\n    );\n};\nconst sessionExpiryVoice = () => {\n    var voice = TextToSpeechStream.getVoiceByName('Alex');\n\n    var synthesizer = new TextToSpeechStream({\n        voice: voice,\n        pitch: 1,\n        rate: 1,\n    });\n\n    synthesizer.write('Session expired');\n};\nfunction AutomaticSlotBooking({\n    loading,\n    slotsList18,\n    slotsList45,\n    availableSlots18,\n    availableSlots45,\n}) {\n    const [benificiaryList, setBenificiaryList] = useState([]);\n    const [isScheduling, setIsScheduling] = useState(false);\n    const [appointmentId, setAppointmentId] = useState(null);\n    const [authToken, setAuthToken] = useState('');\n    const [authAlert, setauthAlert] = useState('');\n\n    useEffect(() => {\n        let sessionExpiryalert = setInterval(() => {\n            getBeneficiary();\n        }, 110000);\n\n        setTimeout(() => {\n            setAuthToken('');\n            sessionExpiryVoice();\n        }, 840000);\n\n        return () => {\n            clearTimeout(sessionExpiryalert);\n        };\n    }, []);\n\n    useEffect(() => {\n        if (availableSlots18.length > 0 && benificiaryList.length) {\n            let isSending = false;\n            availableSlots18.forEach((item) => {\n                if (\n                    item.available_capacity >= benificiaryList.length &&\n                    !isScheduling &&\n                    !isSending\n                ) {\n                    isSending = true;\n                    schedule(item);\n                }\n            });\n        }\n    }, [availableSlots18]);\n\n    useEffect(() => {\n        if (authToken.length > 20) getBeneficiary();\n    }, [authToken]);\n\n    const getBeneficiary = () => {\n        if (!authToken) {\n            return;\n        }\n        setauthAlert('');\n        let beneficiaryList = [];\n        fetch('https://cdn-api.co-vin.in/api/v2/appointment/beneficiaries', {\n            headers: {\n                authorization: 'Bearer ' + authToken,\n            },\n        })\n            .then((res) => res.json())\n            .then((res) => {\n                res.beneficiaries.forEach((beneficiary) => {\n                    if (\n                        beneficiary.appointments &&\n                        beneficiary.appointments.length > 0\n                    ) {\n                        setAppointmentId(beneficiary.appointments[0]);\n                    } else {\n                        beneficiaryList.push(\n                            beneficiary.beneficiary_reference_id\n                        );\n                    }\n                });\n                setBenificiaryList(beneficiaryList);\n            })\n            .catch((error) => {\n                console.log(error);\n                setAuthToken('');\n                setauthAlert('Please Enter correct Token');\n            });\n    };\n\n    const schedule = (centerData) => {\n        if (!authToken) {\n            return;\n        }\n        setIsScheduling(true);\n        fetch('https://cdn-api.co-vin.in/api/v2/appointment/schedule', {\n            method: 'POST',\n            headers: {\n                Authorization: 'Bearer ' + authToken,\n            },\n            body: JSON.stringify({\n                center_id: 517615,\n                session_id: '16c4b608-30f8-494b-babd-9d770eb88366',\n                beneficiaries: ['86107547458210'],\n                slot: '09:00AM-11:00AM',\n                dose: 1,\n            }),\n            // body: JSON.stringify({\n            //     dose: 1,\n            //     session_id: centerData.session_id,\n            //     center_id: centerData.center_id,\n            //     slot: '11:00AM-01:00PM',\n            //     beneficiaries: ['86107547458210'], //benificiaryList,\n            // }),\n        })\n            .then((res) => res.json())\n            .then((res) => {\n                setAppointmentId(res.appointment_id);\n            })\n            .catch((error) => console.log(error))\n            .finally(() => {\n                setIsScheduling(false);\n            });\n    };\n\n    const handleAuthTokenChange = (e) => {\n        let text = e.target.value;\n        let token = text.replace(/\\\"/gi, '').replace('Bearer ', '');\n        setAuthToken(`${token}`);\n    };\n\n    return (\n        <div className=\"App-header\">\n            <div className=\"available-container\">\n                <h2 className=\"title\">Slots Available (18+)</h2>\n                {availableSlots18.length === 0 ? (\n                    <div className=\"loader\">No slots available</div>\n                ) : (\n                    <div>{availableSlots18.map(renderList)}</div>\n                )}\n            </div>\n            <div className=\"all-centers-container\">\n                <h2 className=\"title\">Enter Token</h2>\n                {authToken ? (\n                    <div className=\"token token-alert\">{authToken}</div>\n                ) : (\n                    <div className=\"token token-alert error\">\n                        Please enter Auth Token\n                    </div>\n                )}\n\n                {authAlert && <div className=\"error\">{authAlert}</div>}\n                <div className=\"token token-input\">\n                    {/* <label>Token</label> */}\n                    <textarea\n                        type=\"text\"\n                        onChange={handleAuthTokenChange}\n                        value={authToken}\n                    />\n                    {/* <Button label=\"Add\" onClick={() => {}} /> */}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default AutomaticSlotBooking;\n","/**\n * @author Praveen Reddy\n * @email pr250210@ncr.com\n * @create date 2021-05-03 23:45:24\n * @modify date 2021-05-05 12:43:46\n * @desc [description]\n */\nimport React, { useEffect, useState } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport TextToSpeechStream from 'text-to-speech-stream';\nimport moment from 'moment';\n\nimport SlotsAvailableAlert from './components/Alert/SlotsAvailableAlert';\nimport AutomaticSlotBooking from './components/Booking/AutomaticSlotBooking';\nimport Button from './components/Button/Button';\n\nimport './App.css';\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const [slotsList18, setSlotsList18] = useState([]);\n    const [availableSlots18, setAvailableSlots18] = useState([]);\n    const [slotsList45, setSlotsList45] = useState([]);\n    const [availableSlots45, setavailableSlots45] = useState([]);\n    const [volumeMute18, setVolumeMute18] = useState(true);\n    const [volumeMute45, setVolumeMute45] = useState(false);\n\n    const getData = () => {\n        setLoading(true);\n        var today = moment().format('DD-MM-YYYY');\n        let baseUrl =\n            'https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict';\n\n        fetch(baseUrl + '?district_id=294&date=' + today)\n            .then((res) => res.json())\n            .then((res) => {\n                let list18 = [];\n                let availableList18 = [];\n                let list45 = [];\n                let availableList45 = [];\n                res.centers.forEach(({ sessions, ...centerRest }) => {\n                    sessions.forEach((session) => {\n                        let { min_age_limit, available_capacity } = session;\n                        let data = {\n                            ...centerRest,\n                            ...session,\n                        };\n                        if (min_age_limit < 45) {\n                            list18.push(data);\n\n                            if (available_capacity > 0) {\n                                availableList18.push(data);\n                            }\n                        } else {\n                            list45.push(data);\n\n                            if (available_capacity > 0) {\n                                availableList45.push(data);\n                            }\n                        }\n                    });\n                });\n\n                setSlotsList18(list18);\n                setAvailableSlots18(availableList18);\n                setSlotsList45(list45);\n                setavailableSlots45(availableList45);\n            })\n            .catch((error) => console.log(error))\n            .finally(() => setLoading(false));\n    };\n\n    useEffect(() => {\n        if (availableSlots18.length > 0 && volumeMute18) {\n            vaccineAvailableVoice('18+');\n        }\n    }, [availableSlots18]);\n\n    useEffect(() => {\n        if (availableSlots45.length > 0 && volumeMute45) {\n            // console.log('Available for 45+ voice....');\n            vaccineAvailableVoice('45+');\n        }\n    }, [availableSlots45]);\n\n    useEffect(() => {\n        getData();\n        let fetchInterval = setInterval(() => getData(), 1000);\n        return () => {\n            clearTimeout(fetchInterval);\n        };\n    }, []);\n\n    const vaccineAvailableVoice = (age) => {\n        var voice = TextToSpeechStream.getVoiceByName('Alex');\n\n        var synthesizer = new TextToSpeechStream({\n            voice: voice,\n            pitch: 1,\n            rate: 1,\n        });\n\n        synthesizer.write('Covid vaccines are available for ' + age);\n    };\n\n    return (\n        <Router>\n            <div>\n                <header>\n                    <nav>\n                        <ul class=\"nav-area\">\n                            <li>\n                                <Link to=\"/\">Home</Link>\n                            </li>\n                            <li>\n                                <Link to=\"/slots_available\">\n                                    Slots available\n                                </Link>\n                            </li>\n                            <li>\n                                <Link to=\"/automatic_booking\">Booking</Link>\n                            </li>\n                        </ul>\n                    </nav>\n                    <div className=\"volume-controll\">\n                        <Button\n                            onClick={() => setVolumeMute18(!volumeMute18)}\n                            className=\"icon-button\"\n                        >\n                            <span>18+</span>\n                            <i\n                                className={`fa fa-volume-${\n                                    volumeMute18 ? 'up' : 'off'\n                                }`}\n                            ></i>\n                        </Button>\n                        <Button\n                            onClick={() => setVolumeMute45(!volumeMute45)}\n                            className=\"icon-button\"\n                        >\n                            <span>45+</span>\n                            <i\n                                className={`fa fa-volume-${\n                                    volumeMute45 ? 'up' : 'off'\n                                }`}\n                            ></i>\n                        </Button>\n                    </div>\n                    {/* <a class=\"btn-area\">Login</a> */}\n                </header>\n\n                <Switch>\n                    <Route path=\"/slots_available\">\n                        <SlotsAvailableAlert\n                            loading={loading}\n                            slotsList18={slotsList18}\n                            slotsList45={slotsList45}\n                            availableSlots18={availableSlots18}\n                            availableSlots45={availableSlots45}\n                        />\n                    </Route>\n                    <Route path=\"/automatic_booking\">\n                        <AutomaticSlotBooking\n                            loading={loading}\n                            slotsList18={slotsList18}\n                            slotsList45={slotsList45}\n                            availableSlots18={availableSlots18}\n                            availableSlots45={availableSlots45}\n                        />\n                    </Route>\n                    <Route path=\"/\">\n                        <SlotsAvailableAlert\n                            loading={loading}\n                            slotsList18={slotsList18}\n                            slotsList45={slotsList45}\n                            availableSlots18={availableSlots18}\n                            availableSlots45={availableSlots45}\n                        />\n                    </Route>\n                </Switch>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}