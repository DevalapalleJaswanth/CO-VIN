(this.webpackJsonpcovid_slots=this.webpackJsonpcovid_slots||[]).push([[0],{15:function(e,c,a){},17:function(e,c,a){},19:function(e,c,a){"use strict";a.r(c);var t=a(1),i=a.n(t),s=a(9),n=a.n(s),l=(a(15),a(7)),r=a(8),d=a(10),j=a(4),b=a(2),o=a.n(b),h=(a(17),a(0));var v=function(){var e=Object(t.useState)([]),c=Object(j.a)(e,2),a=c[0],i=c[1],s=Object(t.useState)([]),n=Object(j.a)(s,2),b=n[0],v=n[1],O=Object(t.useState)([]),u=Object(j.a)(O,2),m=u[0],x=u[1],p=Object(t.useState)(!0),f=Object(j.a)(p,2),N=f[0],S=f[1],_=function(){S(!0);var e=o()().format("DD-MM-YYYY");fetch("https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict?district_id=294&date="+e).then((function(e){return e.json()})).then((function(e){var c=[],a=[],t=[];e.centers.forEach((function(e){var i=e.sessions,s=Object(d.a)(e,["sessions"]);i.forEach((function(e){var i=e.min_age_limit,n=e.available_capacity,l=Object(r.a)(Object(r.a)({},s),e);i<45?(c.push(l),n>0&&a.push(l)):(c.push(l),n>0&&t.push(l))}))})),i(c),x([].concat(Object(l.a)(m),t)),v([].concat(Object(l.a)(b),a))})).catch((function(e){return console.log(e)})).finally((function(){return S(!1)}))};return Object(t.useEffect)((function(){_();var e=setInterval((function(){return _()}),1e4);return function(){clearTimeout(e)}}),[]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"App-header",children:[Object(h.jsxs)("div",{className:"available-container",children:[Object(h.jsx)("h2",{className:"title",children:"Slots Available"}),0===b.length?Object(h.jsx)("div",{className:"loader",children:"No slots available"}):Object(h.jsx)("div",{children:b.map((function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{children:o()().format("HH:MM:SS")}),Object(h.jsx)("div",{children:e.name}),Object(h.jsx)("div",{children:e.pincode}),Object(h.jsx)("div",{className:e.available_capacity>0?"green":"red",children:e.available_capacity})]})}))})]}),Object(h.jsxs)("div",{className:"all-centers-container",children:[Object(h.jsx)("h2",{className:"title",children:"centers for 18+"}),N?Object(h.jsx)("div",{className:"loader",children:"Fetching data..."}):Object(h.jsx)("div",{children:a.map((function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{children:o()().format("HH:MM:SS")}),Object(h.jsx)("div",{children:e.name}),Object(h.jsx)("div",{children:e.pincode}),Object(h.jsx)("div",{className:e.available_capacity>0?"green":"red",children:e.available_capacity})]})}))})]})]}),Object(h.jsxs)("div",{className:"App-header",children:[Object(h.jsxs)("div",{className:"available-container",children:[Object(h.jsx)("h2",{className:"title",children:"Slots Available"}),Object(h.jsx)("div",{children:m.map((function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{children:o()().format("HH:MM:SS")}),Object(h.jsx)("div",{children:e.name}),Object(h.jsx)("div",{children:e.pincode}),Object(h.jsx)("div",{className:e.available_capacity>0?"green":"red",children:e.available_capacity})]})}))})]}),Object(h.jsxs)("div",{className:"all-centers-container",children:[Object(h.jsx)("h2",{className:"title",children:"centers for 45+"}),N?Object(h.jsx)("div",{className:"loader",children:"Fetching data..."}):Object(h.jsx)("div",{children:a.map((function(e){return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{children:o()().format("HH:MM:SS")}),Object(h.jsx)("div",{children:e.name}),Object(h.jsx)("div",{children:e.pincode}),Object(h.jsx)("div",{className:e.available_capacity>0?"green":"red",children:e.available_capacity})]})}))})]})]})]})};n.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.d5bd946b.chunk.js.map