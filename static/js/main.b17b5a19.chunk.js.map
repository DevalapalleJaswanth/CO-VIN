{"version":3,"sources":["components/Button/Button.jsx","App.js","index.js"],"names":["Button","className","varient","children","label","rest","class","renderList","center","moment","format","date","vaccine","available_capacity","name","pincode","session_id","App","useState","loading","setLoading","slotsList18","setSlotsList18","availableSlots18","setAvailableSlots18","slotsList45","setSlotsList45","availableSlots45","setavailableSlots45","volumeMute18","setVolumeMute18","volumeMute45","setVolumeMute45","getData","today","fetch","baseUrl","then","res","json","list18","availableList18","list45","availableList45","centers","forEach","sessions","centerRest","session","min_age_limit","data","push","length","vaccineAvailableVoice","catch","error","console","log","finally","useEffect","fetchInterval","setInterval","clearTimeout","age","voice","TextToSpeechStream","getVoiceByName","synthesizer","pitch","rate","write","onClick","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b17b5a19.chunk.js","sourcesContent":["/**\n * @author Praveen Reddy\n * @email pr250210@ncr.com\n * @create date 2021-05-04 14:44:02\n * @modify date 2021-05-04 14:44:02\n * @desc [description]\n */\nimport React from 'react';\n\nimport './Button.css';\n\nfunction Button({\n    className = '',\n    varient = 'regular',\n    children,\n    label,\n    ...rest\n}) {\n    return (\n        <button class={`button -${varient} center ${className}`} {...rest}>\n            {children || label}\n        </button>\n    );\n}\n\nexport default Button;\n","/**\n * @author Praveen Reddy\n * @email pr250210@ncr.com\n * @create date 2021-05-03 23:45:24\n * @modify date 2021-05-04 15:49:30\n * @desc [description]\n */\nimport React, { useEffect, useState } from 'react';\nimport moment from 'moment';\nimport TextToSpeechStream from 'text-to-speech-stream';\n\nimport './App.css';\nimport Button from './components/Button/Button';\n\nconst renderList = (center) => {\n    return (\n        <div className=\"row border-line\">\n            <div className=\"updated-time\">{moment().format('HH:MM:SS')}</div>\n\n            <div className=\"column\">\n                <div className=\"row\">\n                    <div>{center.date}</div>\n                    <div>{center.vaccine}</div>\n                    <div\n                        className={\n                            center.available_capacity > 0 ? 'green' : 'red'\n                        }\n                    >\n                        {center.available_capacity}\n                    </div>\n                </div>\n                <div className=\"row\">\n                    <div>{center.name}</div>\n                    <div>{center.pincode}</div>\n                    <div>{center.session_id}</div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const [slotsList18, setSlotsList18] = useState([]);\n    const [availableSlots18, setAvailableSlots18] = useState([]);\n    const [slotsList45, setSlotsList45] = useState([]);\n    const [availableSlots45, setavailableSlots45] = useState([]);\n    const [volumeMute18, setVolumeMute18] = useState(true);\n    const [volumeMute45, setVolumeMute45] = useState(false);\n\n    const getData = () => {\n        setLoading(true);\n        var today = moment().format('DD-MM-YYYY');\n        let baseUrl =\n            'https://cdn-api.co-vin.in/api/v2/appointment/sessions/calendarByDistrict';\n\n        fetch(baseUrl + '?district_id=294&date=' + today)\n            .then((res) => res.json())\n            .then((res) => {\n                let list18 = [];\n                let availableList18 = [];\n                let list45 = [];\n                let availableList45 = [];\n                res.centers.forEach(({ sessions, ...centerRest }) => {\n                    sessions.forEach((session) => {\n                        let { min_age_limit, available_capacity } = session;\n                        let data = {\n                            ...centerRest,\n                            ...session,\n                        };\n                        if (min_age_limit < 45) {\n                            list18.push(data);\n\n                            if (available_capacity > 0) {\n                                availableList18.push(data);\n                            }\n                        } else {\n                            list45.push(data);\n\n                            if (available_capacity > 0) {\n                                availableList45.push(data);\n                            }\n                        }\n                    });\n                });\n\n                if (availableList18.length > 0 && volumeMute18) {\n                    vaccineAvailableVoice('18+');\n                }\n\n                if (availableList45.length > 0 && volumeMute45) {\n                    vaccineAvailableVoice('45+');\n                }\n\n                setSlotsList18(list18);\n                setAvailableSlots18([...availableSlots18, ...availableList18]);\n                setSlotsList45(list45);\n                setavailableSlots45([...availableSlots45, ...availableList45]);\n            })\n            .catch((error) => console.log(error))\n            .finally(() => setLoading(false));\n    };\n\n    useEffect(() => {\n        getData();\n        let fetchInterval = setInterval(() => getData(), 10000);\n        return () => {\n            clearTimeout(fetchInterval);\n        };\n    }, []);\n\n    const vaccineAvailableVoice = (age) => {\n        console.log('Voice.....');\n        // TextToSpeechStream.getVoices(); // Return all voice objects\n        var voice = TextToSpeechStream.getVoiceByName('Alex');\n\n        var synthesizer = new TextToSpeechStream({\n            voice: voice,\n            pitch: 1,\n            rate: 1,\n        });\n\n        console.log('Voice.....');\n        synthesizer.write('Covid vaccines are available for ' + age);\n    };\n\n    return (\n        <div>\n            <div className=\"settings row\">\n                <Button\n                    onClick={() => setVolumeMute18(!volumeMute18)}\n                    className=\"icon-button\"\n                >\n                    <span>18+</span>\n                    <i\n                        className={`fa fa-volume-${\n                            volumeMute18 ? 'up' : 'off'\n                        }`}\n                    ></i>\n                </Button>\n                <Button\n                    onClick={() => setVolumeMute45(!volumeMute45)}\n                    className=\"icon-button\"\n                >\n                    <span>45+</span>\n                    <i\n                        className={`fa fa-volume-${\n                            volumeMute45 ? 'up' : 'off'\n                        }`}\n                    ></i>\n                </Button>\n            </div>\n            <div className=\"App-header\">\n                <div className=\"available-container\">\n                    <h2 className=\"title\">Slots Available</h2>\n                    {availableSlots18.length === 0 ? (\n                        <div className=\"loader\">No slots available</div>\n                    ) : (\n                        <div>{availableSlots18.map(renderList)}</div>\n                    )}\n                </div>\n                <div className=\"all-centers-container\">\n                    <h2 className=\"title\">centers for 18+</h2>\n                    {loading ? (\n                        <div className=\"loader\">Fetching data...</div>\n                    ) : (\n                        <div>{slotsList18.map(renderList)}</div>\n                    )}\n                </div>\n            </div>\n            <div className=\"App-header\">\n                <div className=\"available-container\">\n                    <h2 className=\"title\">Slots Available</h2>\n                    {availableSlots45.length === 0 ? (\n                        <div className=\"loader\">No slots available</div>\n                    ) : (\n                        <div>{availableSlots45.map(renderList)}</div>\n                    )}\n                </div>\n                <div className=\"all-centers-container\">\n                    <h2 className=\"title\">centers for 45+</h2>\n                    {loading ? (\n                        <div className=\"loader\">Fetching data...</div>\n                    ) : (\n                        <div>{slotsList45.map(renderList)}</div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}